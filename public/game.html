<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chrono Clash</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <button id="showRules">Show Game Rules</button>
    <button id="resetGame">Reset Game</button>
    <div id="winnerPopup" class="winner-popup hidden">
      <div class="winner-content">
        <h2 id="winnerMessage"></h2>
        <button id="playAgainButton">Play Again</button>
      </div>
    </div>
    <div id="rulesOverlay"></div>

    <div id="rulesPopup">
      <h2>Game Rules</h2>
      <p>The game is played between two players on a 5x5 grid.</p>
      <p>
        Each player controls a team of 5 characters, which can include Pawns,
        Hero1, and Hero2.
      </p>
      <p>
        Players arrange their characters on their respective starting rows at
        the beginning of the game.
      </p>

      <h3>Characters and Movement on click only</h3>
      <ul>
        <li>
          <strong>Pawn:</strong> Moves one block in any direction (Left, Right,
          Forward, or Backward). Move commands: L (Left), R (Right), F
          (Forward), B (Backward)
        </li>
        <li>
          <strong>Hero1:</strong> Moves two blocks straight in any direction.
          Kills any opponent's character in its path. Move commands: L (Left), R
          (Right), F (Forward), B (Backward)
        </li>
        <li>
          <strong>Hero2:</strong> Moves two blocks diagonally in any direction.
          Kills any opponent's character in its path. Move commands: FL
          (Forward-Left), FR (Forward-Right), BL (Backward-Left), BR
          (Backward-Right)
        </li>
      </ul>
      <p>All moves are relative to the player's perspective.</p>

      <h3>Combat</h3>
      <p>
        If a character moves to a space occupied by an opponent's character, the
        opponent's character is removed from the game.
      </p>
      <p>
        For Hero1 and Hero2, any opponent's character in their path is removed,
        not just the final destination.
      </p>

      <h3>Invalid Moves</h3>
      <ul>
        <li>The specified character doesn't exist.</li>
        <li>The move would take the character out of bounds.</li>
        <li>The move is not valid for the given character type.</li>
        <li>The move targets a friendly character.</li>
      </ul>

      <h3>Winning the Game</h3>
      <p>
        The game ends when one player eliminates all of their opponent's
        characters.
      </p>
      <p>
        The winning player is announced, and players can choose to start a new
        game.
      </p>

      <span id="closeRules">Close</span>
    </div>
    <div class="game-container">
      <h1>Chrono Clash</h1>
      <div id="turn-indicator" class="turn-indicator">Player A's Turn</div>
      <div id="timer" class="timer">
        <div id="clock" class="clock"></div>
        <!-- Clock animation -->
        <div id="timerText" class="timer-text">Time left: 30s</div>
        <!-- Timer text -->
      </div>
      <div id="game-grid" class="game-grid">
        <!-- Grid cells will be dynamically generated by JavaScript -->
      </div>
      <div
        id="selectedHeroDisplay"
        style="
          text-align: center;
          font-weight: bold;
          color: #f1f1f1;
          height: 30px;
          justify-content: center;
        "
      ></div>
      <!-- <div id="game-message" class="game-message hidden"></div> -->
      <div id="move-history" class="move-history">
        <h3>Move History</h3>
        <ul id="history-list"></ul>
      </div>
    </div>
    <div id="customAlert" class="custom-alert hidden">
      <div class="custom-alert-content">
        <p id="customAlertMessage"></p>
        <button id="customAlertButton" class="custom-alert-button">OK</button>
      </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="client.js"></script>
  </body>
</html>
